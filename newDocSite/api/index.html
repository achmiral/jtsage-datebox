<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="../css/prism.css">

	<title>JTsage::DateBox:API/Options</title>
</head>

<body>
	<nav class="navbar navbar-light bg-light">
		<a class="navbar-brand" href="https://jtsage.dev/DateBox/">JTSage::DateBox</a>
		<span class="navbar-text">API and Options Documentation</span>
	</nav>

	<div class="container">
		<div class="accordion" id="apiDoc"></div>
	</div>

	<!-- Optional JavaScript -->
	<!-- jQuery first, then Popper.js, then Bootstrap JS -->
	<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
	<script src="../js/js-yaml.min.js"></script>
	<script src="../js/showdown.min.js"></script>
	<script src="../js/prism.js"></script>
	<script type="text/javascript">
		$('document').ready( function() {
			var badgeMap = {
				"Display-Form" : "badge-dark",
				"Display-Control" : "badge-secondary",
				"Limits" : "badge-warning",
				"Theme" : "badge-info",
				"i18n" : "badge-success",
				"Callback" : "badge-danger",
				"Operation" : "badge-primary"
			}
			$.ajax({
  				url: "../src/api.yml",
  				success: function( data ) {
  					var first = true,
  						ymlProcessed = jsyaml.load( data ),
  						mdConvert = new showdown.Converter();

  					$.each( ymlProcessed.opts, function( apiKey ) {
  						var rec = this, theCard = "",
  							safeID = apiKey.replace(/[\W]/g, "_");
  							saneDefault = ( typeof rec.default === "boolean" ) ? ( rec.default ? "true" : "false" ) : rec.default;

						theCard += "<div class=\"card border-dark\">";
						theCard += "<div class=\"card-header d-flex " + ( !first ? "mt-1" : "" ) + "\" id=\"heading" + safeID + "\" data-toggle=\"collapse\" data-target=\"#collapse" + safeID + "\">";

						theCard += "<div class=\"w-25\"><h5 class=\"d-inline-block mb-0\">" + apiKey + "</h5></div>";
						theCard += "<div class=\"w-50\"><span class=\"ml-3 text-muted\">" +  rec.short + "</span></div>";
						theCard += "<div class=\"ml-auto\"><h5 class=\"d-inline-block float-right\"><span class=\"badge badge-pill " + badgeMap[rec.cat] + "\">" + rec.cat + "</span></h5></div>";
						theCard += "</div>";

						theCard += "<div id=\"collapse" + safeID + "\" class=\"collapse\" data-parent=\"#apiDoc\">";
						theCard += "<div class=\"pb-2 pt-4 px-4\">";
						theCard += mdConvert.makeHtml(rec.long);
						theCard += "</div>";

						if ( rec.i18n !== undefined ) {
							theCard += "<div class=\"border-top pb-2 pt-4 px-4 text-info\">" + mdConvert.makeHtml(rec.i18n) + "</div>";
						}

						if ( rec.overrideName !== undefined ) {
							theCard += "<div class=\"d-flex border-top\">";
							theCard += "<div class=\"p-2 pl-4 flex-grow-1\"><strong>Override Name: </strong>" + rec.overrideName + "</div>";
							theCard += "<div class=\"p-2 pr-4 text-muted\"><small><small>Option to be passed to override default value</small></small></div>";
							theCard += "</div>";
						}

						theCard += "<div class=\"d-flex border-top\">";
						theCard += "<div class=\"p-2 pl-4 flex-grow-1\"><strong>Default: </strong>" + saneDefault + "</div>";
						theCard += "<div class=\"p-2 pr-4 text-muted\"><small><small>The default value of the option. Many options use \"false\" to disable them.</small></small></div>";
						theCard += "</div>";

						theCard += "<div class=\"d-flex border-top\">";
						theCard += "<div class=\"p-2 pl-4 flex-grow-1\"><strong>Data Type Expected: </strong>" + rec.type + "</div>";
						theCard += "<div class=\"p-2 pr-4 text-muted\"><small><small>The datatype the option is expecting</small></small></div>";
						theCard += "</div>";

						theCard += "<div class=\"d-flex border-top\">";
						theCard += "<div class=\"p-2 pl-4 flex-grow-1\"><strong>Option is Dynamic: </strong>" + ((rec.dynamic) ? "<em class='text-success'>yes</em>" : "<em class='text-danger'>no</em>") + "</div>";
						theCard += "<div class=\"p-2 pr-4 text-muted\"><small><small>The option can be toggled or reset after the control has loaded</small></small></div>";
						theCard += "</div>";

						theCard += "<div class=\"d-flex border-top\">";
						theCard += "<div class=\"p-2 pl-4 flex-grow-1\"><strong>Valid Mode(s): </strong>" + rec.modes.join(", ") + "</div>";
						theCard += "<div class=\"p-2 pr-4 text-muted\"><small><small>Operation mode(s) this option applies to</small></small></div>";
						theCard += "</div>";
						theCard += "</div></div>";

						

						$('#apiDoc').append( $(theCard) );
						first = false;
  					});
  					Prism.highlightAll();
  				}
			});
		});
	</script>
</body>
</html>